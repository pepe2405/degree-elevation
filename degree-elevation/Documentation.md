Какво представлява проектът?
Този проект използва React и Three.js, за да рисува Bézier крива и нейните „контролни“ многоъгълници. Проектът позволява да се добавят, местят или премахват точки, които определят формата на кривата.

Основни части на кода
Контролни точки:
Потребителят може да добавя точки чрез клик с мишката в платното (canvas). Всяка точка се визуализира като малък кръг, за по-добра видимост.

Bézier крива:
Когато има поне 2 точки, с помощта на алгоритъма на de Casteljau се пресмята и чертае Bézier крива, която свързва тези точки.

Контролен многоъгълник:
Линията, която свързва контролните точки, се нарича контролен многоъгълник. Той се чертае в червено, ако е активиран чрез съответната настройка.

Междинни многоъгълници (Degree Elevation):
С помощта на алгоритъм за “degree elevation” се пресмятат нови множества от контролни точки. Те създават междинни многоъгълници, които се чертаят в зелено. Броят на итерациите (степените) се настройва чрез числовото поле.

FPS и брой точки:
В долната лента има информация за броя на кадрите в секунда (FPS) и броя на текущите контролни точки.

Как се използва проекта
Добавяне на точка:

Кликнете в платното, за да добавите нова контролна точка.
Местене на точка:

Кликнете върху съществуваща точка и я задръжте, след което я преместете на ново място.
Премахване на точка:

Ако кликнете върху точка без да я местите, тя ще бъде премахната.
Настройки:

Show Control Polygon: Когато тази опция е отметната, се чертае оригиналният контролен многоъгълник (червен).
Show Intermediate Polygons: Ако е отметната, се показват междинните многоъгълници (зелени), получени чрез degree elevation.
Degrees: Тук задавате колко пъти да се извърши “degree elevation” – повече стъпки означават повече междинни многоъгълници.
Clear Screen:

Натиснете бутона, за да изчистите платното от всички точки и линии.

React и управление на състоянието:

useState: Използва се за запазване на данни като дали да се показват контролния многоъгълник, междинните многоъгълници, броя на степените (elevationSteps), FPS и броя на точките.
useRef: Използва се за съхранение на препратки към DOM елементи (като контейнера на платното), сцена, камера, рендерер и други данни, които не трябва да предизвикват повторно рендиране при промяна.
Three.js – Рисуване и анимация:

Сцена, камера и рендерер: Създава се сцена с бял фон, задава се ортографска камера и WebGL рендерер, който рисува съдържанието в зададен размер (600×600 пиксела).
Обекти: Всеки обект (точка или линия) се добавя към сцената. За контролните точки се използват кръгове, а за кривите – линии, изчертавани чрез BufferGeometry и LineBasicMaterial.
Алгоритми за кривата:

de Casteljau: Това е итеративен алгоритъм, който пресмята точка по Bézier крива за даден параметър t (от 0 до 1). Той линейно интерполира между контролните точки, като стъпка по стъпка „сближава“ точките, докато остане само една – крайната точка по кривата.
computeBezierCurvePoints: С помощта на алгоритъма на de Casteljau се изчисляват множество точки по кривата, за да се получи плавна крива.
Degree Elevation (Повишаване на степента):

Формула: При даден набор от контролни точки, чрез формулата
Q₀ = P₀,
Qᵢ = (i/(n+1))·P₍ᵢ₋₁₎ + ((n+1-i)/(n+1))·Pᵢ (за i = 1, …, n),
Qₙ₊₁ = Pₙ,
се пресмятат нов набор от точки. Този процес може да се повтори няколко пъти (на брой стъпки, зададени от потребителя), за да се получат междинни версии на контролния многоъгълник.
Визуализация: Резултатът е, че оригиналният многоъгълник (ако е маркиран) се рисува в червено, а междинните – в зелено. Това помага да се види как се „подобрява“ формата на контролния многоъгълник без да се променя самата крива.
Интерактивност:

Добавяне на точки: При клик в платното, ако няма близка точка , се добавя нова контролна точка.
Местене и премахване: Ако кликнете върху съществуваща точка, тя може да се мести (ако се влачи) или премахва (ако кликът е кратък).
Обновяване на сцената: Функцията updateScene премахва старите обекти от сцената и добавя новите – това гарантира, че всяка промяна (като добавяне, местене или изтриване на точка) се визуализира веднага.